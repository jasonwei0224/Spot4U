<!DOCTYPE html>
<html>
  <head>
    <title>Custom Markers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
       #map {
        height: 90%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      /* The side navigation menu */
      .sidenav {
        height: 100%; /* 100% Full-height */
        width: 0; /* 0 width - change this with JavaScript */
        position: fixed; /* Stay in place */
        z-index: 1; /* Stay on top */
        top: 0; /* Stay at the top */
        left: 0;
        background-color: #111; /* Black*/
        overflow-x: hidden; /* Disable horizontal scroll */
        padding-top: 60px; /* Place content 60px from the top */
        transition: 0.5s; /* 0.5 second transition effect to slide in the sidenav */
      }
      /* The navigation menu links */
      .sidenav a {
        padding: 8px 8px 8px 32px;
        text-decoration: none;
        font-size: 25px;
        color: #818181;
        display: block;
        transition: 0.3s;
      }
      .sidenav div {
        color:white;
      }
      /* When you mouse over the navigation links, change their color */
      .sidenav a:hover {
        color: #f1f1f1;
      }
      /* Position and style the close button (top right corner) */
      .sidenav .closebtn {
        position: absolute;
        top: 0;
        right: 25px;
        font-size: 36px;
        margin-left: 50px;
      }
      /* Style page content - use this if you want to push the page content to the right when you open the side navigation */
      #main {
        transition: margin-left .5s;
        padding: 20px;
      }
      /* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */
      @media screen and (max-height: 450px) {
        .sidenav {padding-top: 15px;}
        .sidenav a {font-size: 18px;}
      }
      
      #buttonContents {
        margin-top:50px;
        margin-bottom: 50px;;
        text-align: center;
      }
      #price {
        font-size:25px;
        text-align: center;
      }
      #btnParking {
        font-size:15px;
      }
      #btnConfirm {
        font-size:15px;
        text-align: center;
      }
    </style>
    <!-- <link href="./css/style.css"> -->
    <script src="js/googleMap.js"></script>
  </head>
  <body>
  <div>
	<nav class="navbar navbar-dark bg-dark">
            <a class="navbar-brand" href="#">
                <img src="Map-Marker-Free-Download-PNG.png" width="30" height="30" class="d-inline-block align-top" alt="">
                Spot4U
            </a>
            <!--<button id ="signin" class="btn btn-outline-primary btn-1" href="#">Sign In</button>-->
			<button id="signout" class="btn btn-outline-primary btn-1" href="#" style= "visibility:hidden" onclick= "logout()">Sign Out </button>
            <a href="spot.html"> <button id="yourspot" class="btn btn-outline-warning" href="#">Your Spots</button></a>
        </nav>	
    </div>
  
    <div id="mySidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      
      <div class="container">
        
        <div class="row">
          <div class="col-1"></div>
          <div class="col-9">
            <div id="price"></div>
          </div>
          <div class="col-2"></div>
        </div>
        
        <div class="row">
          <div class="col-2"></div>
          <div class="col-8">
            <div id="buttonContents">
                <button id="btnParking" class="btn btn-light">START PARKING</button>
            </div>
          </div>
          <div class="col-2"></div>
        </div>
       
        <div id="toggleDiv" class="row">
          <div class="col-12">
            <div class>
                <div class="form-group row">
                    <label for="example-date-input" class="col-2 col-form-label">Date</label>
                    <div class="col-10">
                      <input class="form-control" type="date" value="2011-08-19" id="example-date-input">
                    </div>
                  </div>
                  <div class="form-group row">
                      <label for="example-time-input" class="col-2 col-form-label">Time</label>
                      <div class="col-10">
                        <input class="form-control" type="time" value="13:45:00" id="example-time-input1">
                      </div>
                  </div>
                  <div class="form-group row">
                      <label for="example-time-input" class="col-2 col-form-label">Time</label>
                      <div class="col-10">
                        <input class="form-control" type="time" value="15:45:00" id="example-time-input2">
                      </div>
                  </div>

                  <div id="btnConfirm">
                      <button class="btn btn-light" data-toggle="modal" data-target="#exampleModal">CONFIRM</button>
                  </div>
            </div>
          </div>
        </div>
        
        <div class="row">

        </div>

      </div>

    </div>
	
    
    <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
    <div id="map"></div>
	
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Your Parking Fee</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="row"> 
              <div class="col-2"></div>
              <div id="feeTarget" class="col-8">
                  <div class="form-check">
                      <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
                      <label class="form-check-label" for="exampleRadios1">
                        Debit/Credit
                      </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
                      <label class="form-check-label" for="exampleRadios2">
                        Your Mileage
                      </label>
                    </div>
              </div>
              <div class="col-2"></div>
              
              
        
            <div class="modal-footer">
              <div class="col-2"></div>
              <div class="col-8">
                  <button type="button" id="btnChange" class="btn btn-primary">Save</button>
              </div>
              <div class="col-2"></div>
              
            </div>
          </div>
        </div>
      </div>
    
    
	
    <!-- // The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-app.js"></script>


    <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase-database.js"></script>
    <!-- // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-analytics.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-auth.js"></script>

    <script>
      
      var firebaseConfig = {
        apiKey: "AIzaSyCDwBPIJKwSePtKYTavskl__vlcF3UCMB0",
        authDomain: "decodecongestion.firebaseapp.com",
        databaseURL: "https://decodecongestion.firebaseio.com",
        projectId: "decodecongestion",
        storageBucket: "decodecongestion.appspot.com",
        messagingSenderId: "609652524330",
        appId: "1:609652524330:web:f3e5a1fb13c391f4260a53",
        measurementId: "G-WRBXY26SJS"
      };
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();
	  firebase.auth
   
    </script>
	<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAdaTR4_eyXe-s4_K0om67K_8coQrLSUy8&callback=initMap">
	</script>
  <script>
    $(document).ready(function() {
      $("#toggleDiv").hide();
      $("#btnParking").click(function() {
        $("#toggleDiv").slideToggle("slow");
      });

      $('#btnChange').click(function() {      
       
        console.log(document.getElementById("example-time-input1").value); 
        console.log(document.getElementById("example-time-input2").value); 

        var start=parseTime(document.getElementById("example-time-input1").value);
        var end=parseTime(document.getElementById("example-time-input2").value);
        var diff=end-start;
        console.log(diff);

        document.getElementById("feeTarget").innerHTML=calculation(diff);
        working();
        refreshPage();
      });
    });

    function parseTime(s) {
      var c = s.split(':');
      return parseInt(c[0]) * 60 + parseInt(c[1]);
    }
    function refreshPage(){
          window.location.reload();
        }
    </script>
	
	<script>
		function showHome(){
			window.location.href="index.html";
			}
		function showSignIn(){
			
			/*document.getElementById("nav").style.display = 'none';*/
			document.getElementById("firebaseui-auth-container").style.visibility = "visible";
		}
    firebase.auth().onAuthStateChanged(function (user) {
        if(user) {
			document.getElementById("signout").style.visibility = "visible";
			document.getElementById("yourspot").style.visibility = "visible";
        }
        firebase.database().ref("Users/" + user.uid).update({
			"name": user.displayName,
			"email": user.email,
            "credit": 0
        });
    });
	
    function logout() {
	
        firebase.auth().signOut().then(function () {
			document.getElementById("signout").style.visibility = "hidden";
			document.getElementById("yourspot").style.visibility = "hidden";
			window.location.href="index.html";
            // Sign-out successful.
        }).catch(function (error) {
            // An error happened.
    });
	}
       
	
    
   
    </script>

  </body>
 
</html>